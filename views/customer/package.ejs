<%- include('header') %>

<main class="container">

  <h1 class="text-left  font-weight-bold bg-dark py-1 px-3 my-3 w-50 rounded-pill"><%= package.PackageNum %></h1>
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4">
    <p class="lead col">Value: $<%= package.pValue%></p>
    <p class="lead col">Weight: <%= package.Weight%> Kg</p>
    <p class="lead col">Category: <%= package.Category%></p>
  </div>
  <p class="lead">Insurance Amount: $<%= Math.round(package.Insurance_amount * 100)/ 100 %></p>
  <h4>Dimensions</h4>
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4">
    <p class="lead col">Width: <%= package.Width%> cm</p>
    <p class="lead col">Height: <%= package.Height%> cm</p>
    <p class="lead col">Length: <%= package.Length%> cm</p>
  </div>
  <p class="lead">Final Delivery Date: <%= package.FinalDeliveryDate%></p>
  <hr>

  <h2 class="mb-2">The traceback of the package: </h2>
  
  <table class="table table-striped table-dark">
    <thead>
      <tr>
        <th scope="col">Date</th>
        <th scope="col">Status</th>
      </tr>
    </thead>
    <tbody>
      <% if (package.tracers.length) { %>
        <% package.tracers.forEach( tracer => { %>
          <tr>
            <th scope="row"><%= tracer.pDate%></th>
            <td><%= tracer.pStatus %></td>
          </tr>
        <% }) %>
      <%} else { %>
        <tr>
          <td colspan="2"> No tracebacks right now</td>
        </tr>
      <% } %>

    </tbody>
  </table>
</main>

<style>
  main{
    color: white;
  }
</style>

<%- include('../footer.ejs') %>
